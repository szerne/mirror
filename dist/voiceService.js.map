{"version":3,"sources":["voiceService.js"],"names":["voiceService","commands","whenSaid","trigger","cb","start","annyang","console","warn","addCallback","debug","addCommands","getTriggers","Object","keys"],"mappings":";;;;;AAAO,IAAMA,sCAAgB,YAAM;AAC/B,QAAIC,WAAW,EAAf;;AAEA,QAAMC,WAAW,SAAXA,QAAW,CAACC,OAAD,EAAUC,EAAV,EAAiB;AAC9BH,iBAASE,OAAT,IAAoBC,EAApB;AACA,eAAOJ,YAAP;AACH,KAHD;;AAKA,QAAMK,QAAQ,SAARA,KAAQ,GAAM;AAChB,YAAI,CAACC,OAAL,EAAc;AACV,mBAAOC,QAAQC,IAAR,CAAa,gCAAb,CAAP;AACH;;AAEDF,gBAAQG,WAAR,CAAoB,OAApB,EAA6B;AAAA,mBAAMF,QAAQG,KAAR,CAAc,2BAAd,CAAN;AAAA,SAA7B;AACAJ,gBAAQG,WAAR,CAAoB,KAApB,EAA2B;AAAA,mBAAMF,QAAQC,IAAR,CAAa,yBAAb,CAAN;AAAA,SAA3B;AACAF,gBAAQK,WAAR,CAAoBV,QAApB;AACAK,gBAAQD,KAAR;AACH,KATD;;AAWA,QAAMO,cAAc,SAAdA,WAAc,GAAM;AACtB,eAAOC,OAAOC,IAAP,CAAYb,QAAZ,CAAP;AACH,KAFD;;AAIA,WAAO,EAAEC,kBAAF,EAAYG,YAAZ,EAAmBO,wBAAnB,EAAP;AAEH,CAzB2B,EAArB","file":"voiceService.js","sourcesContent":["export const voiceService = (() => {\n    let commands = {};\n\n    const whenSaid = (trigger, cb) => {\n        commands[trigger] = cb;\n        return voiceService;\n    }\n\n    const start = () => {\n        if (!annyang) {\n            return console.warn('Voice detection is unavailable');\n        }\n\n        annyang.addCallback('start', () => console.debug('voice recognition started'));\n        annyang.addCallback('end', () => console.warn('voice recognition ended'));\n        annyang.addCommands(commands);\n        annyang.start();\n    }\n\n    const getTriggers = () => {\n        return Object.keys(commands);\n    }\n\n    return { whenSaid, start, getTriggers }\n\n})();"]}